/**
 * RTS Admin Styles
 * Used for admin dashboard, settings pages, and metaboxes.
 */

/* =========================================================
   1. Dashboard & General Layout (Legacy Support)
   ========================================================= */
   .rts-dashboard.rts-darkmode .notice.notice-info p {
       color: #070C13 !important;
   }
.rts-dashboard-wrapper {
    max-width: 100%;
    padding: 35px!important;
    border-radius: 35px!important;
    margin: 20px 20px 20px 0px;
}

.rts-header {
    background: #fff;
    padding: 20px;
    border: 1px solid #c3c4c7;
    border-left: 4px solid #2271b1;
    margin-bottom: 20px;
    box-shadow: 0 1px 1px rgba(0,0,0,0.04);
}

.rts-header h1 {
    margin: 0;
    font-size: 24px;
    font-weight: 600;
    color: #1d2327;
}

/* =========================================================
   2. Modern Dashboard Styles (v2.40+)
   ========================================================= */

.rts-analytics-title{
    color: #fda310 !important;
}
.rts-analytics-subtitle{
    color:#ffffff !important;
}
.rts-analytics-box{
    border-radius: 35px !important;
    padding: 35px !important;
    max-width: 100% !important;
    color: #ffffff !important;
    background: #0f1626 !important;
    margin: 20px 20px 20px 0px !important;
}

.rts-dashboard {
    max-width: 100%;
    margin: 20px 20px 20px 0px !important;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
}

/* Matches PHP: <header class="rts-dashboard-header"> */
.rts-dashboard-header {
    display: flex;
    flex-direction: column-reverse;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 1px solid #ddd;
}

.rts-title {
    font-size: 28px;
    font-weight: 700;
    color: #1d2327;
    display: block;
    margin: 0;
}

.rts-subtitle {
    font-size: 14px;
    color: #646970;
    font-weight: 400;
    margin: 5px 0 0;
    display: block;
}

/* System Status */
.rts-system-status {
    margin-top: 5px;
}

.rts-status-indicator {
    display: inline-flex;
    align-items: center;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 600;
    background: #f0f0f1; /* Default fallback */
}

.rts-status-indicator.status-online {
    background: #edfaef;
    color: #00a32a;
    border: 1px solid rgba(0, 163, 42, 0.2);
}

.rts-status-indicator.status-offline {
    background: #fcf0f1;
    color: #d63638;
    border: 1px solid rgba(214, 54, 56, 0.2);
}

.rts-status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    margin-right: 8px;
}

.status-online .rts-status-dot {
    background: #00a32a;
    animation: rts-pulse 2s infinite;
}

.status-offline .rts-status-dot {
    background: #d63638;
}

@keyframes rts-pulse {
    0% { opacity: 1; }
    50% { opacity: 0.5; }
    100% { opacity: 1; }
}

/* Stats Grid */
.rts-stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 20px;
    margin: 25px 0;
}

@media (min-width: 1200px) {
    .rts-stats-grid {
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr))!important;
    }
}

/* Stat Cards */
.rts-stat-card {
    background: white;
    border: 1px solid #dcdcde;
    border-radius: 8px;
    padding: 20px;
    display: flex;
    align-items: center;
    box-shadow: 0 2px 4px rgba(0,0,0,0.04);
    transition: transform 0.2s, box-shadow 0.2s;
}

.rts-stat-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.08);
}

.rts-stat-icon {
    margin-right: 15px;
    padding: 12px;
    border-radius: 8px;
    background: #f0f0f1;
    display: flex;
    align-items: center;
    justify-content: center;
}

.rts-stat-icon .dashicons {
    font-size: 24px;
    width: 24px;
    height: 24px;
}

/* Card Variants */
.rts-stat-published .rts-stat-icon { background: #edfaef; color: #00a32a; }
.rts-stat-inbox .rts-stat-icon { background: #f0f6ff; color: #2271b1; }
.rts-stat-quarantined .rts-stat-icon { background: #fcf0f1; color: #d63638; }
.rts-stat-total .rts-stat-icon { background: #f6f7f7; color: #1d2327; }

.rts-stat-content { flex: 1; }

.rts-stat-label {
    font-size: 13px;
    color: #646970;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 5px;
    font-weight: 600;
}

.rts-stat-value {
    font-size: 32px;
    font-weight: 700;
    color: #1d2327;
    line-height: 1;
    margin: 5px 0;
}

.rts-stat-sublabel {
    font-size: 12px;
    color: #8c8f94;
}

/* Live Status Panel */
.rts-live-status {
    background: white;
    border: 1px solid #dcdcde;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 25px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.04);
}

.rts-live-status-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid #f0f0f1;
}

.rts-live-status-header h3 {
    margin: 0;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 1.1em;
}

.rts-live-status-badge {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    background: #f0f0f1;
    color: #646970;
}

#rts-scan-status.status-processing {
    background: #f0f6ff;
    color: #2271b1;
    animation: rts-pulse 2s infinite;
}

#rts-scan-status.status-error {
    background: #fcf0f1;
    color: #d63638;
}

.rts-live-status-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.rts-status-item {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.rts-status-label {
    color: #646970;
    font-size: 12px;
    font-weight: 500;
}

.rts-status-value {
    font-weight: 600;
    font-size: 14px;
    color: #1d2327;
}

.status-good { color: #00a32a; }
.status-warning { color: #dba617; }
.status-bad { color: #d63638; }
.status-processing { color: #2271b1; }

/* Quick Actions */
.rts-quick-actions {
    background: white;
    border: 1px solid #dcdcde;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 25px;
}

.rts-quick-actions h3 {
    margin-top: 0;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 1.1em;
}

.rts-action-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.rts-action-btn {
    display: inline-flex !important;
    align-items: center;
    gap: 6px;
    padding: 6px 12px !important;
    height: auto !important;
    font-size: 13px !important;
}

.rts-action-btn .dashicons {
    font-size: 16px;
    width: 16px;
    height: 16px;
}

/* Progress Section */
.rts-progress-section {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.rts-progress-card {
    background: white;
    border: 1px solid #dcdcde;
    border-radius: 8px;
    padding: 20px;
}

.rts-progress-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.rts-progress-header h4 {
    margin: 0;
    font-size: 14px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.rts-progress-bar-container {
    height: auto;
    background: #f0f0f1;
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 8px;
}

.rts-progress-fill {
    height: 100%;
    background: #2271b1;
    width: 0;
    transition: width 0.3s ease;
}

.rts-progress-text {
    font-size: 12px;
    color: #646970;
}

/* Navigation Tabs */
.rts-nav-tabs {
    margin-bottom: 20px !important;
    border-bottom: 1px solid #c3c4c7;
}

.rts-nav-tab {
    display: inline-flex !important;
    align-items: center;
    gap: 5px;
    padding: 10px 15px !important;
    font-size: 14px !important;
}

.rts-nav-tab .dashicons {
    font-size: 16px;
    width: 16px;
    height: 16px;
    color: #646970;
}

.rts-nav-tab.nav-tab-active .dashicons {
    color: #1d2327;
}

/* Tab Content Areas */
.rts-tab-content {
    background: #fff;
    border: 1px solid #0f1626;
    padding: 35px;
    border-radius: 35px;
    border-radius: 4px;
}

/* Info Grid (Overview Tab) */
.rts-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.rts-info-card {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 20px;
    text-align: center;
}

.rts-info-icon {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 15px;
}

.rts-info-icon .dashicons {
    font-size: 24px;
    width: 24px;
    height: 24px;
}

.rts-info-card h4 {
    margin: 0 0 10px;
    color: #1d2327;
}

.rts-info-card p {
    margin: 0;
    font-size: 13px;
    color: #fda310;
    line-height: 1.4;
}

/* Activity Feed */
.rts-activity-feed {
    border: 1px solid #f0f0f1;
    border-radius: 8px;
}

.rts-activity-item {
    display: flex;
    align-items: center;
    padding: 12px 15px;
    border-bottom: 1px solid #f0f0f1;
}

.rts-activity-item:last-child { border-bottom: none; }

.rts-activity-icon {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 12px;
}

.rts-activity-title a {
    font-weight: 600;
    text-decoration: none;
    color: #1d2327;
}

.rts-activity-meta {
    font-size: 12px;
    color: #8c8f94;
    margin-top: 2px;
}

/* Toast Notifications */
#rts-toast-container {
    position: fixed;
    top: 40px;
    right: 20px;
    z-index: 99999;
    display: flex;
    flex-direction: column;
    gap: 10px;
    max-width: 320px;
}

.rts-toast {
    background: white;
    border-left: 4px solid #2271b1;
    padding: 15px;
    border-radius: 4px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    display: flex;
    align-items: flex-start;
    gap: 12px;
    animation: rts-slide-in 0.3s ease-out;
    /* Guard against external dark-mode overrides causing white-on-white */
    color: #070C13;
}

.rts-toast.rts-toast-success { border-left-color: #00a32a; }
.rts-toast.rts-toast-error { border-left-color: #d63638; }

.rts-toast-content { flex: 1; }
.rts-toast-title { font-weight: 600; margin-bottom: 4px; font-size: 13px; color: inherit !important; }
.rts-toast-message { font-size: 12px; color: rgba(7,12,19,0.78) !important; line-height: 1.4; }
.rts-toast-close { background: none; border: none; font-size: 16px; cursor: pointer; color: rgba(7,12,19,0.65) !important; padding: 0; }

/* Toast styling in RTS dark mode */
.rts-darkmode #rts-toast-container .rts-toast {
    background: var(--rts-surface, #0f1626);
    border: 1px solid rgba(255,255,255,0.12);
    box-shadow: 0 6px 18px rgba(0,0,0,0.35);
    color: var(--rts-text, #e8eefc);
}

.rts-darkmode #rts-toast-container .rts-toast-title,
.rts-darkmode #rts-toast-container .rts-toast-message{
    /* Ensure readable in dark mode even though base rules use !important */
    color: #FCA311 !important;
}

.rts-darkmode #rts-toast-container .rts-toast-message {
    color: var(--rts-text-muted, rgba(232,238,252,0.74));
}

.rts-darkmode #rts-toast-container .rts-toast-close {
    color: var(--rts-text-muted, rgba(232,238,252,0.74));
}

@keyframes rts-slide-in {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

.rts-toast.fade-out {
    transform: translateX(100%);
    opacity: 0;
    transition: all 0.3s ease-in;
}

/* =========================================================
   3. Utilities & Tables
   ========================================================= */
.rts-hidden { display: none; }

.rts-status-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
}

.rts-status-publish { background: #edfaef; color: #00a32a; }
.rts-status-pending { background: #f0f6ff; color: #2271b1; }
.rts-status-draft { background: #f0f0f1; color: #646970; }

.rts-safety-flag { color: #d63638; font-weight: 600; font-size: 12px; display: flex; align-items: center; gap: 4px; }
.rts-safety-ok { color: #00a32a; font-weight: 600; font-size: 12px; display: flex; align-items: center; gap: 4px; }

/* Responsive */
@media (max-width: 782px) {
    .rts-header-modern { flex-direction: column; align-items: flex-start; gap: 10px; }
    .rts-stats-grid { grid-template-columns: 1fr; }
    .rts-progress-section { grid-template-columns: 1fr; }
    .rts-action-buttons { flex-direction: column; width: 100%; }
    .rts-action-btn { width: 100%; justify-content: center; }
}
/* =========================================================
   RTS Engine Dark Mode (admin pages only)
   Toggle: Settings -> "Use dark mode for RTS admin pages"
   ========================================================= */

.wp-die-message, p {
    color: #ffffff !important;
}
.widefat td, .widefat th {
    color: #ffffff !important;
}
.form-table th, .form-wrap label {
    color: #fda310 !important;
}
.alternate, .striped>tbody>:nth-child(odd), ul.striped>:nth-child(odd) {
    background-color: #0f1626!important;
}

.rts-dashboard.rts-darkmode{
  /* Core palette */
  --rts-bg: #0b0f18;
  --rts-tab-content:#0f1626;
  --rts-surface: #0f1626;
  --rts-surface-2: #111a2c;
  --rts-surface-3: #16233b;
  --rts-text: #e8eefc;
  --rts-text-strong: #f3f6ff;
  --rts-text-muted: rgba(232,238,252,.74);
  --rts-border: rgba(255,255,255,.10);
  --rts-border-strong: rgba(255,255,255,.16);
  --rts-link: #FCA311;
  --rts-link-hover: #ffd18a;
  --rts-focus: rgba(252,163,17,.28);
  padding: 35px;
  border-radius: 35px;
  background: var(--rts-bg);
  color: var(--rts-text);
}

.rts-analytics-container.rts-darkmode{
  /* Core palette */
  --rts-bg: #0b0f18;
  --rts-tab-content:#0f1626;
  --rts-surface: #0f1626;
  --rts-surface-2: #111a2c;
  --rts-surface-3: #16233b;
  --rts-text: #e8eefc;
  --rts-text-strong: #f3f6ff;
  --rts-text-muted: rgba(232,238,252,.74);
  --rts-border: rgba(255,255,255,.10);
  --rts-border-strong: rgba(255,255,255,.16);
  --rts-link: #FCA311;
  --rts-link-hover: #ffd18a;
  --rts-focus: rgba(252,163,17,.28);
  padding: 35px;
  border-radius: 35px;
  background: var(--rts-bg);
  color: var(--rts-text);
}

/* Headings + base text */
.rts-dashboard.rts-darkmode h1,
.rts-dashboard.rts-darkmode h2,
.rts-dashboard.rts-darkmode h3,
.rts-dashboard.rts-darkmode h4,
.rts-dashboard.rts-darkmode .rts-title{
  color: var(--rts-text-strong);
}

.rts-dashboard.rts-darkmode .rts-subtitle,
.rts-dashboard.rts-darkmode .description,
.rts-dashboard.rts-darkmode .rts-stat-label,
.rts-dashboard.rts-darkmode .rts-stat-sublabel,
.rts-dashboard.rts-darkmode .rts-progress-text,
.rts-dashboard.rts-darkmode .rts-activity-meta,
.rts-dashboard.rts-darkmode .rts-status-label{
  color: var(--rts-text-muted);
}

.rts-dashboard.rts-darkmode .rts-dashboard-header{
  border-bottom-color: var(--rts-border);
}

/* Links */
.rts-dashboard.rts-darkmode a{
  color: var(--rts-link);
  text-decoration-color: rgba(252,163,17,.45);
}
.rts-dashboard.rts-darkmode a:hover,
.rts-dashboard.rts-darkmode a:focus{
  color: var(--rts-link-hover);
  text-decoration-color: rgba(252,163,17,.80);
}

/* Surfaces: panels/cards/sections used by the dashboard PHP */
.rts-dashboard.rts-darkmode .rts-card,
.rts-dashboard.rts-darkmode .rts-box,
.rts-dashboard.rts-darkmode .postbox,
.rts-dashboard.rts-darkmode .rts-stat-card,
.rts-dashboard.rts-darkmode .rts-live-status,
.rts-dashboard.rts-darkmode .rts-quick-actions,
.rts-dashboard.rts-darkmode .rts-progress-card,
.rts-dashboard.rts-darkmode .rts-nav-tabs,
.rts-dashboard.rts-darkmode .rts-tab-content,
.rts-dashboard.rts-darkmode .rts-tab-pane,
.rts-dashboard.rts-darkmode .rts-tab-section,
.rts-dashboard.rts-darkmode .rts-info-card,
.rts-dashboard.rts-darkmode .rts-activity-feed,
.rts-dashboard.rts-darkmode .rts-activity-item{
  background: var(--rts-surface);
  color: var(--rts-text);
  border-color: var(--rts-border);
  border-radius: 20px;
}

/* Card internals */
.rts-dashboard.rts-darkmode .rts-stat-value,
.rts-dashboard.rts-darkmode .rts-activity-title,
.rts-dashboard.rts-darkmode .rts-status-value{
  color: var(--rts-text-strong);
}

.rts-dashboard.rts-darkmode .rts-live-status-header,
.rts-dashboard.rts-darkmode .rts-progress-header{
  border-bottom-color: var(--rts-border);
}

/* Tabs */
.rts-dashboard.rts-darkmode .nav-tab{
  background: var(--rts-surface-2);
  border-color: var(--rts-border-strong);
  color: var(--rts-text);
}

.rts-dashboard.rts-darkmode .nav-tab.nav-tab-active{
  background: var(--rts-surface-3);
  border-color: var(--rts-border-strong);
  color: var(--rts-text-strong);
}

/* Tables (if any) */
.rts-dashboard.rts-darkmode .widefat,
.rts-dashboard.rts-darkmode .wp-list-table{
  background: var(--rts-surface);
  color: var(--rts-text);
  border-color: var(--rts-border);
}
.rts-dashboard.rts-darkmode .widefat thead th,
.rts-dashboard.rts-darkmode .widefat tfoot th,
.rts-dashboard.rts-darkmode .wp-list-table thead th{
  background: var(--rts-surface-2);
  color: var(--rts-text-strong);
}
.rts-dashboard.rts-darkmode .widefat td,
.rts-dashboard.rts-darkmode .widefat th,
.rts-dashboard.rts-darkmode .wp-list-table td,
.rts-dashboard.rts-darkmode .wp-list-table th{
  border-color: var(--rts-border);
}
.rts-dashboard.rts-darkmode .wp-list-table tbody tr:nth-child(odd){
  background: rgba(255,255,255,0.03);
}
.rts-dashboard.rts-darkmode .wp-list-table tbody tr:hover{
  background: rgba(252,163,17,0.08);
}

/* Inputs */
.rts-dashboard.rts-darkmode input[type="text"],
.rts-dashboard.rts-darkmode input[type="search"],
.rts-dashboard.rts-darkmode input[type="number"],
.rts-dashboard.rts-darkmode input[type="email"],
.rts-dashboard.rts-darkmode select,
.rts-dashboard.rts-darkmode textarea{
  background: var(--rts-bg);
  color: var(--rts-text);
  border-color: var(--rts-border-strong);
}

.rts-dashboard.rts-darkmode input::placeholder,
.rts-dashboard.rts-darkmode textarea::placeholder{
  color: rgba(232,238,252,.55);
}

.rts-dashboard.rts-darkmode input:focus,
.rts-dashboard.rts-darkmode select:focus,
.rts-dashboard.rts-darkmode textarea:focus{
  border-color: rgba(252,163,17,.75);
  box-shadow: 0 0 0 2px var(--rts-focus);
  outline: none;
}

/* Buttons */
.rts-dashboard.rts-darkmode .button,
.rts-dashboard.rts-darkmode .button-secondary{
  background: var(--rts-surface-3);
  border-color: var(--rts-border-strong);
  color: var(--rts-text-strong);
}

.rts-dashboard.rts-darkmode .button:hover,
.rts-dashboard.rts-darkmode .button-secondary:hover{
  background: #1b2b48;
  border-color: rgba(252,163,17,.55);
}

.rts-dashboard.rts-darkmode .button-primary{
  background: var(--rts-link);
  border-color: var(--rts-link);
  color: #070C13;
}

.rts-dashboard.rts-darkmode .button-primary:hover,
.rts-dashboard.rts-darkmode .button-primary:focus{
  background: var(--rts-link-hover);
  border-color: var(--rts-link-hover);
}

/* Progress bars */
.rts-dashboard.rts-darkmode .rts-progress-bar-container{
  background: rgba(255,255,255,.08);
}
.rts-dashboard.rts-darkmode .rts-progress-fill{
  filter: brightness(1.1);
}

/* Notices inside the dashboard */
.rts-dashboard.rts-darkmode .notice{
  background: var(--rts-surface);
  color: var(--rts-text);
  border-color: var(--rts-border-strong);
}

/* One specific offender: the inline "Auto-Processing Active" banner */
.rts-dashboard.rts-darkmode .notice.notice-info{
  background: var(--rts-surface);
}

/* =========================================================
   Hotfixes (prod polish)
   ========================================================= */

/* Analytics header: align dashicons nicely inside button rows */
.rts-analytics-header.rts-letters-analytics .button{
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.rts-analytics-header.rts-letters-analytics .button .dashicons{
  margin: 0;
  line-height: 1;
  vertical-align: middle;
}

/* Dark mode: make WP info notices readable (WP core can render these pale) */
.rts-dashboard.rts-darkmode .notice.notice-info{
  background: #e7f1ff;
  border-left-color: #2271b1;
  color: #070C13;
}
.rts-dashboard.rts-darkmode .notice.notice-info p,
.rts-dashboard.rts-darkmode .notice.notice-info a,
.rts-dashboard.rts-darkmode .notice.notice-info strong,
.rts-dashboard.rts-darkmode .notice.notice-info span{
  color: #070C13;
}
.rts-dashboard.rts-darkmode .notice.notice-info a{
  text-decoration: underline;
}

/* Feedback icon: ensure testimonial dashicon is visible on light icon tiles */
.rts-stat-feedback .rts-stat-icon{
  background: #e7f1ff;
  color: #070C13;
}
.rts-stat-feedback .rts-stat-icon .dashicons,
.rts-stat-feedback .rts-stat-icon .dashicons-testimonial{
  color: #070C13;
}
